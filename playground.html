<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Technologies Tutorial</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dark-mode.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.2/marked.min.js"></script>
</head>
<body>
    <div class="decorative-circle" style="top: -150px; left: -150px;"></div>
    <div class="decorative-circle" style="bottom: -150px; right: -150px;"></div>

    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="index.html"><img src="../../assets/images/mainlogo.png" height="50" alt="Main Logo"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="syllabus.html">Syllabus</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="download_material.html">Download Material</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="playground.html">Playground</a>
                    </li>
                </ul>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="darkModeToggle">
                    <label class="form-check-label" for="darkModeToggle">Dark Mode</label>
                </div>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <!-- Playground Section -->
        <section class="mb-5">
            <h2>HTML Playground</h2>
            <p>Test more HTML structures in the playground below and click "Run" to see your code in action:</p>

            <!-- HTML Playground Editors -->
            <div class="row">
                <div class="col-md-4">
                    <h3>HTML</h3>
                    <textarea id="htmlPlayground" class="form-control" rows="10">&lt;h1&gt;Welcome to the HTML Playground&lt;/h1&gt;
&lt;p&gt;You can edit this HTML and see the live preview below.&lt;/p&gt;</textarea>
                </div>
                <div class="col-md-4">
                    <h3>CSS</h3>
                    <textarea id="cssPlayground" class="form-control" rows="10">h1 { color: blue; } p { font-style: italic; }</textarea>
                </div>
                <div class="col-md-4">
                    <h3>JavaScript</h3>
                    <textarea id="jsPlayground" class="form-control" rows="10">console.log("Hello from JavaScript!");</textarea>
                </div>
            </div>

            <button class="btn btn-success mt-3" onclick="runPlayground()">Run Playground</button>

            <!-- Playground Live Preview -->
            <div class="mt-3">
                <iframe id="playgroundPreview" class="w-100" style="height: 400px; border: 1px solid #ccc; background-color: white;"></iframe>
            </div>
        </section>
    </div>

    <button id="openChatbot" class="chatbot-toggle">
        <img src="assets/images/chatbotlogo.png" alt="Chatbot Logo" class="chatbot-logo">
    </button>

    <div id="chatbot" class="chatbot-container">
        <div class="chatbot-header">
            <img src="assets/images/chatbotlogo.png" alt="Chatbot Logo" class="chatbot-logo">
            <h3>Web Tech Assistant</h3>
            <button id="closeChatbot" class="btn-close" aria-label="Close">&times;</button>
        </div>
        <div id="chatbotMessages" class="chatbot-messages"></div>
        <div class="chatbot-input">
            <textarea id="userInput" placeholder="Ask your doubt..." rows="3"></textarea>
            <button id="sendMessage" class="btn btn-primary">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/dark-mode.js"></script>
    <script src="js/chatbot.js"></script>
    <script>
        function runPlayground() {
            const html = document.getElementById('htmlPlayground').value;
            const css = document.getElementById('cssPlayground').value;
            const js = document.getElementById('jsPlayground').value;

            const iframe = document.getElementById('playgroundPreview');
            const iframeDocument = iframe.contentDocument || iframe.contentWindow.document;

            iframeDocument.open();
            iframeDocument.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <style>${css}</style>
                </head>
                <body>
                    ${html}
                    <script>${js}<\/script>
                </body>
                </html>
            `);
            iframeDocument.close();
        }

        // Run the playground on page load
        document.addEventListener('DOMContentLoaded', runPlayground);
    </script>
</body>
</html>
